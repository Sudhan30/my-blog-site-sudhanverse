<svg viewBox="0 0 950 750" xmlns="http://www.w3.org/2000/svg" style="font-family: system-ui, -apple-system, sans-serif;">
  <defs>
    <!-- Gradients -->
    <linearGradient id="userGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#3b82f6"/>
      <stop offset="100%" style="stop-color:#1d4ed8"/>
    </linearGradient>
    <linearGradient id="cloudflareGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f48120"/>
      <stop offset="100%" style="stop-color:#faad3f"/>
    </linearGradient>
    <linearGradient id="k8sGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#326ce5"/>
      <stop offset="100%" style="stop-color:#1d4ed8"/>
    </linearGradient>
    <linearGradient id="podGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#8b5cf6"/>
      <stop offset="100%" style="stop-color:#6d28d9"/>
    </linearGradient>
    <linearGradient id="ollamaGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f59e0b"/>
      <stop offset="100%" style="stop-color:#d97706"/>
    </linearGradient>
    <linearGradient id="dbGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#10b981"/>
      <stop offset="100%" style="stop-color:#059669"/>
    </linearGradient>
    <linearGradient id="searchGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#ec4899"/>
      <stop offset="100%" style="stop-color:#db2777"/>
    </linearGradient>
    <linearGradient id="githubGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#6e7681"/>
      <stop offset="100%" style="stop-color:#24292f"/>
    </linearGradient>
    <linearGradient id="dockerGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#2496ed"/>
      <stop offset="100%" style="stop-color:#0db7ed"/>
    </linearGradient>
    <linearGradient id="fluxGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#5468ff"/>
      <stop offset="100%" style="stop-color:#316ce4"/>
    </linearGradient>
    <linearGradient id="gotifyGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#4ade80"/>
      <stop offset="100%" style="stop-color:#22c55e"/>
    </linearGradient>
    <linearGradient id="bgGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#0f172a"/>
      <stop offset="100%" style="stop-color:#1e293b"/>
    </linearGradient>
    <linearGradient id="bunGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#fbf0df"/>
      <stop offset="100%" style="stop-color:#f5e6d3"/>
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="0" dy="4" stdDeviation="6" flood-color="#000" flood-opacity="0.3"/>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="950" height="750" rx="16" fill="url(#bgGrad)"/>

  <!-- Grid pattern -->
  <pattern id="grid" width="30" height="30" patternUnits="userSpaceOnUse">
    <path d="M 30 0 L 0 0 0 30" fill="none" stroke="#ffffff" stroke-width="0.3" opacity="0.05"/>
  </pattern>
  <rect width="950" height="750" fill="url(#grid)"/>

  <!-- Title -->
  <text x="475" y="32" text-anchor="middle" fill="#ffffff" font-size="20" font-weight="700">Chat System Infrastructure &amp; CI/CD</text>
  <text x="475" y="52" text-anchor="middle" fill="#94a3b8" font-size="11">Kubernetes • GitOps • Ollama LLM</text>

  <!-- ========== USER SECTION ========== -->
  <g filter="url(#shadow)">
    <rect x="30" y="85" width="100" height="90" rx="12" fill="url(#userGrad)"/>
    <!-- Browser Icon -->
    <rect x="55" y="100" width="50" height="35" rx="4" fill="#1e40af" stroke="#60a5fa" stroke-width="1.5"/>
    <rect x="58" y="103" width="44" height="4" rx="1" fill="#3b82f6"/>
    <circle cx="62" cy="105" r="1.5" fill="#ef4444"/>
    <circle cx="68" cy="105" r="1.5" fill="#fbbf24"/>
    <circle cx="74" cy="105" r="1.5" fill="#22c55e"/>
    <rect x="58" y="110" width="44" height="22" rx="2" fill="#1e3a8a"/>
    <text x="80" y="150" text-anchor="middle" fill="#ffffff" font-size="11" font-weight="600">User</text>
    <text x="80" y="165" text-anchor="middle" fill="#bfdbfe" font-size="8">HTTPS Request</text>
  </g>

  <!-- ========== CLOUDFLARE ========== -->
  <g filter="url(#shadow)">
    <rect x="170" y="85" width="120" height="90" rx="12" fill="url(#cloudflareGrad)"/>
    <!-- Cloudflare Cloud Icon -->
    <g transform="translate(200, 100)">
      <ellipse cx="20" cy="22" rx="18" ry="12" fill="#ffffff" opacity="0.9"/>
      <ellipse cx="35" cy="18" rx="14" ry="10" fill="#ffffff" opacity="0.9"/>
      <ellipse cx="12" cy="18" rx="10" ry="8" fill="#ffffff" opacity="0.9"/>
    </g>
    <text x="230" y="150" text-anchor="middle" fill="#ffffff" font-size="11" font-weight="600">Cloudflare</text>
    <text x="230" y="163" text-anchor="middle" fill="#fff7ed" font-size="8">DNS • CDN • SSL</text>
  </g>

  <!-- Arrow: User to Cloudflare -->
  <defs><marker id="arrowWhite" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto"><polygon points="0 0, 8 3, 0 6" fill="#94a3b8"/></marker></defs>
  <path d="M 130 130 L 160 130" stroke="#94a3b8" stroke-width="2" fill="none" marker-end="url(#arrowWhite)"/>

  <!-- ========== KUBERNETES CLUSTER ========== -->
  <g>
    <!-- K8s Cluster Border -->
    <rect x="320" y="70" width="600" height="360" rx="16" fill="none" stroke="#326ce5" stroke-width="2.5"/>

    <!-- K8s Logo in corner -->
    <g transform="translate(330, 78)">
      <!-- Kubernetes wheel icon (simplified) -->
      <circle cx="12" cy="12" r="11" fill="#326ce5"/>
      <circle cx="12" cy="12" r="4" fill="#ffffff"/>
      <g stroke="#ffffff" stroke-width="2">
        <line x1="12" y1="1" x2="12" y2="6"/>
        <line x1="12" y1="18" x2="12" y2="23"/>
        <line x1="1" y1="12" x2="6" y2="12"/>
        <line x1="18" y1="12" x2="23" y2="12"/>
        <line x1="4" y1="4" x2="8" y2="8"/>
        <line x1="16" y1="16" x2="20" y2="20"/>
        <line x1="4" y1="20" x2="8" y2="16"/>
        <line x1="16" y1="8" x2="20" y2="4"/>
      </g>
    </g>
    <text x="360" y="93" fill="#326ce5" font-size="12" font-weight="600">Kubernetes Cluster</text>
    <text x="480" y="93" fill="#64748b" font-size="10">(namespace: web)</text>

    <!-- ===== CHAT APP POD ===== -->
    <g filter="url(#shadow)">
      <rect x="350" y="115" width="170" height="145" rx="10" fill="url(#podGrad)"/>
      <!-- Pod icon -->
      <g transform="translate(360, 122)">
        <rect width="20" height="20" rx="3" fill="#a78bfa" stroke="#ffffff" stroke-width="1"/>
        <rect x="3" y="3" width="14" height="14" rx="2" fill="#7c3aed"/>
      </g>
      <text x="395" y="137" fill="#ffffff" font-size="10" font-weight="600">Chat App Pod</text>

      <!-- Bun logo area -->
      <rect x="362" y="148" width="146" height="100" rx="6" fill="#1e1b4b" opacity="0.7"/>

      <!-- Bun icon (simplified bread/bun shape) -->
      <g transform="translate(375, 158)">
        <ellipse cx="15" cy="12" rx="12" ry="8" fill="#fbf0df"/>
        <ellipse cx="15" cy="10" rx="10" ry="6" fill="#f5e6d3"/>
        <text x="15" y="14" text-anchor="middle" fill="#000" font-size="7" font-weight="bold">BUN</text>
      </g>
      <text x="435" y="170" fill="#c4b5fd" font-size="9" font-weight="500">Bun Runtime</text>

      <!-- Hono -->
      <g transform="translate(375, 182)">
        <circle cx="8" cy="8" r="7" fill="#e36002"/>
        <text x="8" y="11" text-anchor="middle" fill="#fff" font-size="6" font-weight="bold">H</text>
      </g>
      <text x="400" y="193" fill="#a78bfa" font-size="8">Hono Server</text>

      <text x="375" y="210" fill="#a78bfa" font-size="8">• Auth + Sessions</text>
      <text x="375" y="223" fill="#a78bfa" font-size="8">• Context Builder</text>
      <text x="375" y="236" fill="#a78bfa" font-size="8">• SSE Streaming</text>
    </g>

    <!-- ===== OLLAMA POD ===== -->
    <g filter="url(#shadow)">
      <rect x="550" y="115" width="170" height="145" rx="10" fill="url(#ollamaGrad)"/>
      <!-- Pod icon -->
      <g transform="translate(560, 122)">
        <rect width="20" height="20" rx="3" fill="#fbbf24" stroke="#ffffff" stroke-width="1"/>
        <rect x="3" y="3" width="14" height="14" rx="2" fill="#d97706"/>
      </g>
      <text x="595" y="137" fill="#ffffff" font-size="10" font-weight="600">Ollama Pod</text>

      <rect x="562" y="148" width="146" height="100" rx="6" fill="#78350f" opacity="0.5"/>

      <!-- Ollama llama icon (simplified) -->
      <g transform="translate(575, 155)">
        <ellipse cx="15" cy="18" rx="12" ry="10" fill="#fef3c7"/>
        <ellipse cx="15" cy="8" rx="8" ry="7" fill="#fef3c7"/>
        <ellipse cx="10" cy="5" rx="2" ry="4" fill="#fef3c7"/>
        <ellipse cx="20" cy="5" rx="2" ry="4" fill="#fef3c7"/>
        <circle cx="12" cy="8" r="1.5" fill="#78350f"/>
        <circle cx="18" cy="8" r="1.5" fill="#78350f"/>
      </g>
      <text x="620" y="175" fill="#fef3c7" font-size="9" font-weight="600">Ollama</text>

      <!-- GPU icon -->
      <g transform="translate(575, 188)">
        <rect width="24" height="14" rx="2" fill="#22c55e"/>
        <rect x="2" y="2" width="6" height="10" rx="1" fill="#15803d"/>
        <rect x="10" y="2" width="6" height="10" rx="1" fill="#15803d"/>
        <rect x="18" y="2" width="4" height="10" rx="1" fill="#15803d"/>
      </g>
      <text x="610" y="200" fill="#fde68a" font-size="8">GPU Accelerated</text>

      <text x="575" y="218" fill="#fde68a" font-size="9" font-weight="600">Gemma 3 12B</text>
      <text x="575" y="232" fill="#fcd34d" font-size="8">Port: 11434</text>
      <text x="575" y="245" fill="#fcd34d" font-size="8">API: /api/generate</text>
    </g>

    <!-- ===== POSTGRESQL ===== -->
    <g filter="url(#shadow)">
      <rect x="750" y="115" width="150" height="145" rx="10" fill="url(#dbGrad)"/>
      <!-- PostgreSQL elephant icon (simplified) -->
      <g transform="translate(760, 122)">
        <ellipse cx="12" cy="14" rx="10" ry="8" fill="#336791"/>
        <ellipse cx="8" cy="10" rx="6" ry="5" fill="#336791"/>
        <circle cx="6" cy="9" r="2" fill="#ffffff"/>
        <circle cx="6" cy="9" r="1" fill="#336791"/>
        <path d="M 16 8 Q 20 6 22 10" stroke="#336791" stroke-width="3" fill="none"/>
      </g>
      <text x="795" y="137" fill="#ffffff" font-size="10" font-weight="600">PostgreSQL</text>

      <rect x="762" y="148" width="126" height="100" rx="6" fill="#064e3b" opacity="0.6"/>

      <!-- Table icon -->
      <g transform="translate(772, 158)">
        <rect width="18" height="14" rx="2" fill="#a7f3d0" stroke="#059669"/>
        <line x1="0" y1="5" x2="18" y2="5" stroke="#059669"/>
        <line x1="6" y1="5" x2="6" y2="14" stroke="#059669"/>
      </g>
      <text x="800" y="170" fill="#a7f3d0" font-size="9" font-weight="500">Tables</text>

      <text x="775" y="190" fill="#6ee7b7" font-size="8">• messages</text>
      <text x="775" y="205" fill="#6ee7b7" font-size="8">• summaries</text>
      <text x="775" y="220" fill="#6ee7b7" font-size="8">• sessions</text>
      <text x="775" y="235" fill="#6ee7b7" font-size="8">• users</text>
    </g>

    <!-- K8s Services -->
    <g>
      <rect x="380" y="270" width="70" height="22" rx="4" fill="#475569"/>
      <text x="415" y="285" text-anchor="middle" fill="#e2e8f0" font-size="8">ClusterIP</text>

      <rect x="600" y="270" width="70" height="22" rx="4" fill="#475569"/>
      <text x="635" y="285" text-anchor="middle" fill="#e2e8f0" font-size="8">ClusterIP</text>

      <rect x="790" y="270" width="70" height="22" rx="4" fill="#475569"/>
      <text x="825" y="285" text-anchor="middle" fill="#e2e8f0" font-size="8">ClusterIP</text>
    </g>

    <!-- ===== BACKGROUND JOBS ===== -->
    <g filter="url(#shadow)">
      <rect x="350" y="310" width="170" height="55" rx="10" fill="#334155"/>
      <!-- Job/cron icon -->
      <g transform="translate(360, 320)">
        <circle cx="10" cy="10" r="9" fill="#64748b" stroke="#94a3b8"/>
        <line x1="10" y1="10" x2="10" y2="5" stroke="#ffffff" stroke-width="1.5"/>
        <line x1="10" y1="10" x2="14" y2="12" stroke="#ffffff" stroke-width="1.5"/>
      </g>
      <text x="390" y="335" fill="#ffffff" font-size="10" font-weight="600">Background Jobs</text>
      <text x="390" y="352" fill="#94a3b8" font-size="8">Summarization Worker</text>
    </g>

    <!-- ===== GOTIFY POD ===== -->
    <g filter="url(#shadow)">
      <rect x="550" y="310" width="140" height="55" rx="10" fill="url(#gotifyGrad)"/>
      <!-- Bell notification icon -->
      <g transform="translate(560, 318)">
        <path d="M 10 4 C 6 4 3 7 3 11 L 3 16 L 0 19 L 20 19 L 17 16 L 17 11 C 17 7 14 4 10 4 Z" fill="#ffffff"/>
        <circle cx="10" cy="22" r="2.5" fill="#ffffff"/>
      </g>
      <text x="590" y="335" fill="#ffffff" font-size="10" font-weight="600">Gotify</text>
      <text x="590" y="352" fill="#dcfce7" font-size="8">Push Notifications</text>
    </g>

    <!-- ===== INGRESS ===== -->
    <g filter="url(#shadow)">
      <rect x="350" y="380" width="170" height="40" rx="8" fill="#1e40af"/>
      <!-- Ingress icon (gateway) -->
      <g transform="translate(360, 388)">
        <rect width="20" height="20" rx="2" fill="#3b82f6"/>
        <path d="M 5 10 L 10 5 L 15 10 L 10 15 Z" fill="#ffffff"/>
      </g>
      <text x="395" y="403" fill="#ffffff" font-size="10" font-weight="600">Ingress</text>
      <text x="435" y="415" text-anchor="middle" fill="#93c5fd" font-size="8">chat.sudharsana.dev</text>
    </g>

  </g>

  <!-- Arrow: Cloudflare to Ingress -->
  <path d="M 290 130 L 310 130 L 310 400 L 340 400" stroke="#f48120" stroke-width="2" fill="none" marker-end="url(#arrowWhite)"/>

  <!-- Arrow: Ingress to Chat Pod -->
  <path d="M 435 380 L 435 270" stroke="#60a5fa" stroke-width="2" fill="none" marker-end="url(#arrowWhite)"/>

  <!-- Arrow: Chat to Ollama -->
  <defs><marker id="arrowYellow" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto"><polygon points="0 0, 8 3, 0 6" fill="#fbbf24"/></marker></defs>
  <path d="M 520 180 L 540 180" stroke="#fbbf24" stroke-width="2" fill="none" marker-end="url(#arrowYellow)"/>
  <text x="530" y="173" text-anchor="middle" fill="#fbbf24" font-size="7">API</text>

  <!-- Arrow: Chat to PostgreSQL -->
  <defs><marker id="arrowGreen" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto"><polygon points="0 0, 8 3, 0 6" fill="#34d399"/></marker></defs>
  <path d="M 520 200 L 650 200 L 650 180 L 740 180" stroke="#34d399" stroke-width="2" fill="none" marker-end="url(#arrowGreen)"/>

  <!-- Arrow: Background Jobs to PostgreSQL -->
  <path d="M 520 337 L 530 337 L 530 280 L 720 280 L 720 260 L 750 240" stroke="#6b7280" stroke-width="1.5" stroke-dasharray="4,3" fill="none" marker-end="url(#arrowWhite)"/>

  <!-- Arrow: Chat to Gotify -->
  <defs><marker id="arrowGotify" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto"><polygon points="0 0, 8 3, 0 6" fill="#4ade80"/></marker></defs>
  <path d="M 460 260 L 460 295 L 580 295 L 580 305" stroke="#4ade80" stroke-width="1.5" fill="none" marker-end="url(#arrowGotify)"/>
  <text x="520" y="288" text-anchor="middle" fill="#4ade80" font-size="7">notify</text>

  <!-- ========== EXTERNAL SERVICES ========== -->
  <!-- Brave Search -->
  <g filter="url(#shadow)">
    <rect x="550" y="380" width="140" height="45" rx="8" fill="url(#searchGrad)"/>
    <!-- Search/globe icon -->
    <g transform="translate(562, 390)">
      <circle cx="10" cy="10" r="9" fill="none" stroke="#ffffff" stroke-width="1.5"/>
      <ellipse cx="10" cy="10" rx="4" ry="9" fill="none" stroke="#ffffff" stroke-width="1"/>
      <line x1="1" y1="10" x2="19" y2="10" stroke="#ffffff" stroke-width="1"/>
    </g>
    <text x="595" y="403" fill="#ffffff" font-size="10" font-weight="600">Brave Search</text>
    <text x="620" y="418" text-anchor="middle" fill="#fce7f3" font-size="8">Real-time Web Data</text>
  </g>

  <!-- Arrow: Chat to Brave -->
  <defs><marker id="arrowPink" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto"><polygon points="0 0, 8 3, 0 6" fill="#f472b6"/></marker></defs>
  <path d="M 490 260 L 490 300 L 550 300 L 550 375" stroke="#f472b6" stroke-width="1.5" stroke-dasharray="4,3" fill="none" marker-end="url(#arrowPink)"/>
  <text x="520" y="295" text-anchor="middle" fill="#f472b6" font-size="7">if needed</text>

  <!-- ========== CI/CD SECTION ========== -->
  <rect x="30" y="460" width="890" height="270" rx="12" fill="#1e293b" stroke="#334155" stroke-width="1"/>
  <text x="475" y="488" text-anchor="middle" fill="#ffffff" font-size="14" font-weight="600">CI/CD Pipeline (GitOps)</text>

  <!-- GitHub Repo (Source) -->
  <g filter="url(#shadow)">
    <rect x="50" y="510" width="140" height="95" rx="10" fill="url(#githubGrad)"/>
    <!-- GitHub Octocat-style icon -->
    <g transform="translate(95, 525)">
      <circle cx="15" cy="15" r="14" fill="#ffffff"/>
      <circle cx="15" cy="12" r="8" fill="#24292f"/>
      <ellipse cx="15" cy="22" rx="10" ry="6" fill="#24292f"/>
      <circle cx="11" cy="11" r="2" fill="#ffffff"/>
      <circle cx="19" cy="11" r="2" fill="#ffffff"/>
    </g>
    <text x="120" y="570" text-anchor="middle" fill="#ffffff" font-size="11" font-weight="600">GitHub</text>
    <text x="120" y="585" text-anchor="middle" fill="#d1d5db" font-size="8">chat-sudharsana-dev</text>
    <text x="120" y="598" text-anchor="middle" fill="#9ca3af" font-size="8">Source Code</text>
  </g>

  <!-- GitHub Actions -->
  <g filter="url(#shadow)">
    <rect x="230" y="510" width="140" height="95" rx="10" fill="#238636"/>
    <!-- Actions workflow icon -->
    <g transform="translate(275, 525)">
      <circle cx="15" cy="8" r="6" fill="#ffffff"/>
      <circle cx="8" cy="22" r="5" fill="#ffffff"/>
      <circle cx="22" cy="22" r="5" fill="#ffffff"/>
      <line x1="15" y1="14" x2="10" y2="18" stroke="#ffffff" stroke-width="2"/>
      <line x1="15" y1="14" x2="20" y2="18" stroke="#ffffff" stroke-width="2"/>
    </g>
    <text x="300" y="570" text-anchor="middle" fill="#ffffff" font-size="11" font-weight="600">GitHub Actions</text>
    <text x="300" y="585" text-anchor="middle" fill="#d1fae5" font-size="8">Build • Test</text>
    <text x="300" y="598" text-anchor="middle" fill="#a7f3d0" font-size="8">Docker Build</text>
  </g>

  <!-- Docker Hub -->
  <g filter="url(#shadow)">
    <rect x="410" y="510" width="140" height="95" rx="10" fill="url(#dockerGrad)"/>
    <!-- Docker whale icon -->
    <g transform="translate(455, 520)">
      <ellipse cx="15" cy="20" rx="18" ry="8" fill="#ffffff"/>
      <rect x="5" y="10" width="5" height="5" rx="1" fill="#ffffff"/>
      <rect x="12" y="10" width="5" height="5" rx="1" fill="#ffffff"/>
      <rect x="19" y="10" width="5" height="5" rx="1" fill="#ffffff"/>
      <rect x="8" y="4" width="5" height="5" rx="1" fill="#ffffff"/>
      <rect x="15" y="4" width="5" height="5" rx="1" fill="#ffffff"/>
      <rect x="12" y="-2" width="5" height="5" rx="1" fill="#ffffff"/>
    </g>
    <text x="480" y="570" text-anchor="middle" fill="#ffffff" font-size="11" font-weight="600">Docker Hub</text>
    <text x="480" y="585" text-anchor="middle" fill="#bfdbfe" font-size="8">sudhan03/chat</text>
    <text x="480" y="598" text-anchor="middle" fill="#93c5fd" font-size="8">Image Registry</text>
  </g>

  <!-- Cluster Infra Repo -->
  <g filter="url(#shadow)">
    <rect x="590" y="510" width="140" height="95" rx="10" fill="url(#githubGrad)"/>
    <!-- Git branch icon -->
    <g transform="translate(635, 525)">
      <circle cx="15" cy="15" r="14" fill="#ffffff"/>
      <circle cx="10" cy="10" r="3" fill="#24292f"/>
      <circle cx="20" cy="10" r="3" fill="#24292f"/>
      <circle cx="15" cy="22" r="3" fill="#24292f"/>
      <line x1="10" y1="13" x2="10" y2="18" stroke="#24292f" stroke-width="2"/>
      <line x1="10" y1="18" x2="15" y2="19" stroke="#24292f" stroke-width="2"/>
      <line x1="20" y1="13" x2="20" y2="16" stroke="#24292f" stroke-width="2"/>
      <line x1="20" y1="16" x2="15" y2="19" stroke="#24292f" stroke-width="2"/>
    </g>
    <text x="660" y="570" text-anchor="middle" fill="#ffffff" font-size="11" font-weight="600">GitHub</text>
    <text x="660" y="585" text-anchor="middle" fill="#d1d5db" font-size="8">cluster-infra</text>
    <text x="660" y="598" text-anchor="middle" fill="#9ca3af" font-size="8">K8s Manifests</text>
  </g>

  <!-- FluxCD -->
  <g filter="url(#shadow)">
    <rect x="770" y="510" width="130" height="95" rx="10" fill="url(#fluxGrad)"/>
    <!-- Flux sync icon -->
    <g transform="translate(810, 525)">
      <circle cx="15" cy="15" r="12" fill="none" stroke="#ffffff" stroke-width="2"/>
      <path d="M 15 5 L 15 15 L 22 15" stroke="#ffffff" stroke-width="2" fill="none"/>
      <polygon points="22,10 27,15 22,20" fill="#ffffff"/>
    </g>
    <text x="835" y="570" text-anchor="middle" fill="#ffffff" font-size="11" font-weight="600">FluxCD</text>
    <text x="835" y="585" text-anchor="middle" fill="#c7d2fe" font-size="8">GitOps Sync</text>
    <text x="835" y="598" text-anchor="middle" fill="#a5b4fc" font-size="8">Auto Deploy</text>
  </g>

  <!-- CI/CD Arrows -->
  <defs><marker id="arrowCyan" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto"><polygon points="0 0, 8 3, 0 6" fill="#22d3ee"/></marker></defs>

  <!-- Git push to Actions -->
  <path d="M 190 555 L 220 555" stroke="#22d3ee" stroke-width="2" fill="none" marker-end="url(#arrowCyan)"/>
  <text x="205" y="548" text-anchor="middle" fill="#22d3ee" font-size="8">push</text>

  <!-- Actions to Docker Hub -->
  <path d="M 370 555 L 400 555" stroke="#22d3ee" stroke-width="2" fill="none" marker-end="url(#arrowCyan)"/>
  <text x="385" y="548" text-anchor="middle" fill="#22d3ee" font-size="8">push</text>

  <!-- Actions to Cluster Infra (update manifest) -->
  <path d="M 300 605 L 300 640 L 660 640 L 660 615" stroke="#f472b6" stroke-width="1.5" stroke-dasharray="4,3" fill="none" marker-end="url(#arrowPink)"/>
  <text x="480" y="655" text-anchor="middle" fill="#f472b6" font-size="8">update image tag in deployment.yaml</text>

  <!-- Cluster Infra to FluxCD -->
  <path d="M 730 555 L 760 555" stroke="#22d3ee" stroke-width="2" fill="none" marker-end="url(#arrowCyan)"/>
  <text x="745" y="548" text-anchor="middle" fill="#22d3ee" font-size="8">watch</text>

  <!-- FluxCD to K8s Cluster -->
  <path d="M 835 510 L 835 445 L 620 445 L 620 430" stroke="#5468ff" stroke-width="2" fill="none" marker-end="url(#arrowWhite)"/>
  <text x="730" y="458" text-anchor="middle" fill="#818cf8" font-size="9">deploy to cluster</text>

  <!-- ========== RESPONSE FLOW ========== -->
  <path d="M 635 260 L 635 300 L 100 300 L 100 185" stroke="#60a5fa" stroke-width="2" stroke-dasharray="6,4" fill="none" marker-end="url(#arrowWhite)"/>
  <text x="360" y="292" text-anchor="middle" fill="#60a5fa" font-size="9" font-weight="500">SSE Stream Response</text>

  <!-- ========== LEGEND ========== -->
  <g transform="translate(50, 700)">
    <text x="0" y="0" fill="#94a3b8" font-size="10" font-weight="600">LEGEND:</text>

    <rect x="60" y="-10" width="14" height="14" rx="2" fill="url(#podGrad)"/>
    <text x="80" y="0" fill="#94a3b8" font-size="8">K8s Pod</text>

    <rect x="130" y="-10" width="14" height="14" rx="2" fill="url(#ollamaGrad)"/>
    <text x="150" y="0" fill="#94a3b8" font-size="8">LLM</text>

    <rect x="185" y="-10" width="14" height="14" rx="2" fill="url(#dbGrad)"/>
    <text x="205" y="0" fill="#94a3b8" font-size="8">Database</text>

    <rect x="265" y="-10" width="14" height="14" rx="2" fill="url(#searchGrad)"/>
    <text x="285" y="0" fill="#94a3b8" font-size="8">External API</text>

    <rect x="355" y="-10" width="14" height="14" rx="2" fill="url(#gotifyGrad)"/>
    <text x="375" y="0" fill="#94a3b8" font-size="8">Notify</text>

    <rect x="420" y="-10" width="14" height="14" rx="2" fill="url(#githubGrad)"/>
    <text x="440" y="0" fill="#94a3b8" font-size="8">Git Repo</text>

    <rect x="495" y="-10" width="14" height="14" rx="2" fill="url(#dockerGrad)"/>
    <text x="515" y="0" fill="#94a3b8" font-size="8">Registry</text>

    <rect x="565" y="-10" width="14" height="14" rx="2" fill="url(#fluxGrad)"/>
    <text x="585" y="0" fill="#94a3b8" font-size="8">GitOps</text>

    <line x1="635" y1="-3" x2="665" y2="-3" stroke="#22d3ee" stroke-width="2"/>
    <text x="680" y="0" fill="#94a3b8" font-size="8">Data Flow</text>

    <line x1="740" y1="-3" x2="770" y2="-3" stroke="#60a5fa" stroke-width="2" stroke-dasharray="4,3"/>
    <text x="785" y="0" fill="#94a3b8" font-size="8">Response</text>

    <rect x="840" y="-10" width="14" height="14" rx="2" fill="#326ce5"/>
    <text x="860" y="0" fill="#94a3b8" font-size="8">K8s</text>
  </g>
</svg>
